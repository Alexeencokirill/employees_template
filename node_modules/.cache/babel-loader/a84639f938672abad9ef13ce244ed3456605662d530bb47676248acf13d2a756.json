{"ast":null,"code":"import _defineProperty from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import{Component}from'react';import AppFilter from'../app-filter/app-filter';import AppInfo from'../app-info/app-info';import EmployeesAddForm from'../employees-add-form/employees-add-form';import EmployeesList from'../employees-list/employees-list';import SearchPanel from'../search-panel/search-panel';import'./app.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.deleteItem=function(id){_this.setState(function(_ref){var data=_ref.data;// const index = data.findIndex(elem => elem.id === id)  первый способ удаления\n// const before = data.slice(0, index)\n// const after = data.slice(index + 1)\n// const newArr = [...before, ...after]\nreturn{data:data.filter(function(item){return item.id!==id;})//   второй способ\n};});};_this.addItem=function(name,salary){var newItem={name:name,salary:salary,increase:false,rise:false,id:_this.maxId++};_this.setState(function(_ref2){var data=_ref2.data;var newArr=[].concat(_toConsumableArray(data),[newItem]);return{data:newArr};});};// onToggleIncrease = (id) => {\n// this.setState(({ data }) => {\n//   const index = data.findIndex((elem) => elem.id === id);    //  bad one \n//   const old = data[index];\n//   const newItem = { ...old, increase: !old.increase };\n//   const newArr = [\n//     ...data.slice(0, index),\n//     newItem,\n//     ...data.slice(index + 1),\n//   ];\n//   return {\n//     data: newArr,\n//   };\n// });\n//   this.setState(({ data }) => ({\n//     data: data.map(item => {                                // beter solution\n//       if (item.id === id) {\n//         return {...item, increase: !item.increase}\n//       }\n//       return item;\n//     })\n//   }));\n// };\n// onToggleRise = (id) => {\n//   this.setState(({ data }) => ({\n//     data: data.map(item => {\n//       if (item.id === id) {\n//         return {...item, rise: !item.rise}\n//       }\n//       return item;\n//     })\n//   }));\n// };\n_this.onToggleProp=function(id,prop){// best solution for both increase and rise\n_this.setState(function(_ref3){var data=_ref3.data;return{data:data.map(function(item){if(item.id===id){return _objectSpread(_objectSpread({},item),{},_defineProperty({},prop,!item[prop]));}return item;})};});};_this.searchEmp=function(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.name.indexOf(term)>-1;});};_this.onUpdateSearch=function(term){_this.setState({term:term});};_this.filterPost=function(items,filter){switch(filter){case'rise':return items.filter(function(item){return item.rise;});case'moreThen1000':return items.filter(function(item){return item.salary>1000;});default:return items;}};_this.onFilterSelect=function(filter){_this.setState({filter:filter});};_this.state={data:[{name:'John C.',salary:800,increase:false,rise:true,id:1},{name:'Alex M.',salary:2000,increase:true,rise:false,id:2},{name:'Carl W.',salary:4000,increase:false,rise:false,id:3}],term:'',filter:'all'};_this.maxId=4;return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,term=_this$state.term,filter=_this$state.filter;var employees=this.state.data.length;var increased=this.state.data.filter(function(item){return item.increase;}).length;var visibleData=this.filterPost(this.searchEmp(data,term),filter);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(AppInfo,{employees:employees,increased:increased}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-panel\",children:[/*#__PURE__*/_jsx(SearchPanel,{onUpdateSearch:this.onUpdateSearch}),/*#__PURE__*/_jsx(AppFilter,{filter:filter,onFilterSelect:this.onFilterSelect})]}),/*#__PURE__*/_jsx(EmployeesList,{data:visibleData,onDelete:this.deleteItem,onToggleProp:this.onToggleProp}),/*#__PURE__*/_jsx(EmployeesAddForm,{onAdd:this.addItem})]});}}]);return App;}(Component);export default App;","map":{"version":3,"names":["Component","AppFilter","AppInfo","EmployeesAddForm","EmployeesList","SearchPanel","jsx","_jsx","jsxs","_jsxs","App","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","deleteItem","id","setState","_ref","data","filter","item","addItem","name","salary","newItem","increase","rise","maxId","_ref2","newArr","concat","_toConsumableArray","onToggleProp","prop","_ref3","map","_objectSpread","_defineProperty","searchEmp","items","term","length","indexOf","onUpdateSearch","filterPost","onFilterSelect","state","_createClass","key","value","render","_this$state","employees","increased","visibleData","className","children","onDelete","onAdd"],"sources":["/Users/kirillalekseenko/Desktop/HomeWork/Alexeencokirill/employees_template/src/components/app/app.js"],"sourcesContent":["import { Component } from 'react';\n\nimport AppFilter from '../app-filter/app-filter';\nimport AppInfo from '../app-info/app-info';\nimport EmployeesAddForm from '../employees-add-form/employees-add-form';\nimport EmployeesList from '../employees-list/employees-list';\nimport SearchPanel from '../search-panel/search-panel';\n\nimport './app.css';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [\n        { name: 'John C.', salary: 800, increase: false, rise: true, id: 1 },\n        { name: 'Alex M.', salary: 2000, increase: true, rise: false, id: 2 },\n        { name: 'Carl W.', salary: 4000, increase: false, rise: false, id: 3 },\n      ],\n      term: '',\n      filter: 'all'\n    };\n    this.maxId = 4;\n  }\n\n  deleteItem = (id) => {\n    this.setState(({ data }) => {\n      // const index = data.findIndex(elem => elem.id === id)  первый способ удаления\n\n      // const before = data.slice(0, index)\n      // const after = data.slice(index + 1)\n\n      // const newArr = [...before, ...after]\n\n      return {\n        data: data.filter((item) => item.id !== id), //   второй способ\n      };\n    });\n  };\n\n  addItem = (name, salary) => {\n    const newItem = {\n      name,\n      salary,\n      increase: false,\n      rise: false,\n      id: this.maxId++,\n    };\n    this.setState(({ data }) => {\n      const newArr = [...data, newItem];\n      return {\n        data: newArr,\n      };\n    });\n  };\n\n  // onToggleIncrease = (id) => {\n    // this.setState(({ data }) => {\n    //   const index = data.findIndex((elem) => elem.id === id);    //  bad one \n\n    //   const old = data[index];\n    //   const newItem = { ...old, increase: !old.increase };\n    //   const newArr = [\n    //     ...data.slice(0, index),\n    //     newItem,\n    //     ...data.slice(index + 1),\n    //   ];\n\n    //   return {\n    //     data: newArr,\n    //   };\n    // });\n\n  //   this.setState(({ data }) => ({\n  //     data: data.map(item => {                                // beter solution\n  //       if (item.id === id) {\n  //         return {...item, increase: !item.increase}\n  //       }\n  //       return item;\n  //     })\n  //   }));\n  // };\n\n  // onToggleRise = (id) => {\n  //   this.setState(({ data }) => ({\n  //     data: data.map(item => {\n  //       if (item.id === id) {\n  //         return {...item, rise: !item.rise}\n  //       }\n  //       return item;\n  //     })\n  //   }));\n  // };\n\n  onToggleProp = (id, prop) => {         // best solution for both increase and rise\n    this.setState(({ data }) => ({\n          data: data.map(item => {\n            if (item.id === id) {\n              return {...item, [prop]: !item[prop]}\n            }\n            return item;\n          })\n        }));\n  }\n\n  searchEmp = (items, term) => {\n    if (term.length === 0) {\n      return items;\n    }\n\n    return items.filter(item => {\n      return item.name.indexOf(term) > -1;\n    })\n  }\n\n  onUpdateSearch = (term) => {\n    this.setState({term})\n  }\n\n  filterPost = (items, filter) => {\n    switch (filter) {\n      case 'rise':\n        return items.filter(item => item.rise)\n      case 'moreThen1000':\n        return items.filter(item => item.salary > 1000)\n      default:\n        return items\n    }\n  }\n\n  onFilterSelect = (filter) => {\n     this.setState({filter})\n  }\n\n  render() {\n    const{data, term, filter} =this.state\n    const employees = this.state.data.length;\n    const increased = this.state.data.filter(item => item.increase).length;\n    const visibleData = this.filterPost(this.searchEmp(data, term), filter)\n\n    return (\n      <div className=\"app\">\n        <AppInfo employees={employees} increased={increased}/>\n\n        <div className=\"search-panel\">\n          <SearchPanel onUpdateSearch={this.onUpdateSearch}/>\n          <AppFilter filter={filter} onFilterSelect={this.onFilterSelect}/>\n        </div>\n        <EmployeesList\n          data={visibleData}\n          onDelete={this.deleteItem}\n          onToggleProp={this.onToggleProp}\n        />\n        <EmployeesAddForm onAdd={this.addItem} />\n      </div>\n    );\n  }\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}